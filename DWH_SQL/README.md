# DWH
Практическое задание для магистров

# Идея: Маркетплейс товаров ручного производства из разных стран.

Вы работаете в компании, которая создает приложение маркетплейс для эксклюзивных товаров ручной работы мастеров. Мастера, которые изготавливают свои товары вручную выкладывают их на продажу на различных сайтах, у каждого из которых свой бэкенд со своей моделью данных в БД. Ваша компания покупает эти сайты, но не меняет у них домены, а значит, мастера всё ещё могут туда выкладывать свои товары, а покупатели делать там покупки. Нужно организовать корпоративное хранилище данных (DWH) на основе данных из трех источников и построить конечную витрину данных со статистикой о продажах.

Алгоритм решения задания:
1. Установить себе Docker Desktop - https://www.docker.com/products/docker-desktop/ 
2. Установить себе DBeaver Community - https://dbeaver.io/
3. Запустить в docker СУБД PostgreSQL
   - https://habr.com/ru/articles/823816/
   - https://habr.com/ru/articles/578744/
   - https://www.docker.com/blog/how-to-use-the-postgres-docker-official-image/
   - https://geshan.com.np/blog/2021/12/docker-postgres/
   - https://hub.docker.com/_/postgres
4. Запустить DBeaver и с помощью скриптов из папки "Cкрипты создания таблиц источников" - создать пустые таблицы источников в PostgreSQL
5. С помощью DBeaver импортировать данные из csv файлов в папке "Данные для источников" в пустые таблицы, созданные на предыдущем шаге
6. С помощью DBeaver запустить скрипты из папки "Скрипты по созданию таблиц DWH и витрин". Скрипты создадут таблицы фактов, измерений и таблицы для витрины данных.
7. Напишите код на SQL, который будет заполнять сначала таблицы измерений и фактов в DWH.
8. Затем напишите код на SQL, который заполнит таблицу витрины данных из данных таблиц измерений и фактов в DWH. Напишите код инкрементальным, чтобы можно было забирать только измененные данные на источниках.
   - Обратите внимание на комментарии к колонкам в скрипте DDL витрины данных dwh.craftsman_report_datamart. Там написано, что должно содержаться в этих колонках.

Общая схема задания
![Сквозной кейс схема_SQL](https://github.com/user-attachments/assets/4c2bcff2-883a-4d5e-be81-b3e8746c81e4)


# Как сдавать задание:

Минимальные требования для сдачи практической работы:
1. Должен быть ваш репозиторий с кодом на SQL - его надо прислать в тг @neltari.
2. PostgreSQL должен запускаться в Docker.
3. В Readme репозитория должна быть инструкция, как запускать скрипты для проверки.
4. Должна быть реализована инкрементальная загрузка
